# Chapter 2. Demystifying Project Object Model

> How to use POM file to build a large-scale, multimodule Maven project?



## Project Object Model

* POM is Maven project descriptor

* The following code lists out key elements in a Maven pom.xml

```xml
<project>
	<parent>...</parent>
    
    <modelVersion>4.0.0</modelVersion>
    
	<groupId>...</groupId>
    <artifactId>...</artifactId>
    <version>...</version>
    <packaging>...</packaging>
    
    <name>...</name>
    <description>...</description>
    <url>...</url>
    <inceptionYear>...</inceptionYear>
    <licensed>...</licensed>
    <organization>...</organization>
    <developers>...</developers>
    <contributors>...</contributors>
    
    <dependencies>...</dependencies>
    <dependencyManagement>...</dependencyManagement>
    <modules>...</modules>
    <properties>...</properties>
    
    <build>...</build>
    <reporting>...</reporting>
    
    <issueManagement>...</issueManagement>
    <ciManagement>...</ciManagement>
    <mailingList>...</mailingList>
    <scm>...</scm>
    <prerequisites>...</prerequisites>
    
    <repositories>...</repositories>
    <plugRepositories>...</plugRepositories>
    
    <distributionManagement>...</distributionManagement>
    
    <profiles>...</profiles>
</project>
```



## The POM hierarchy

* POM files maintain a <font color=#FF0000>**parent-child relationship**</font> between them.
* A child POM file inherits all the configuration elements from its parent POM file.
* This is <font color="#FF0000">**convention over configuration**</font>.

* The minimal POM configuration

```xml
<project>
	<modelVersion>4.0.0</modelVersion>
    
    <groupId>com.packt</groupId>
    <artifactId>sample-one</artifactId>
    <version>1.0.0</version>
</project>
```



## Super POM

* 每個 POM 都會指向一個 Parent POM。若 POM 沒有 Parent POM，則 Super POM 自動成為 Parent POM。
* The Super POM file is bundled inside **MAVEN_HOME/lib/maven-model-builder-x.x.x.jar - org/apache/maven/model/pom-4.0.0.xml**

* The Super POM code, as follow

```xml
<project>
	<modelVersion>4.0.0</modelVersion>
    
    <!-- default repository -->
    <repositories>
    	<repository>
        	<id>central</id>
            <name>Central Repository</name>
            <url>http://repo.maven.apache.org/maven2</url>
            <layout>default</layout>
            <snapshots>
            	<enabled>false</enabled>
            </snapshots>
        </repository>
    </repositories>
    
    <!-- default plugin repository -->
    <pluginRepositories>
    	<pluginRepository>
        	<id>central</id>
            <name>Central Repository</name>
            <url>http://repo.maven.apache.org/maven2</url>
            <layout>default</layout>
            <snapshots>
            	<enabled>false</enabled>
            </snapshots>
            <releases>
            	<updatePolicy>never</updatePolicy>
            </releases>
        </pluginRepository>
    </pluginRepositories>
    
    <!-- all information required to build a project -->
    <build>
    	<directory>${project.basedir}/target</directory>
        <outputDirectory>${project.build.directory}/classes</outputDirectory>
        <testOutputDirectory>${project.build.directory}/test-classes</testOutputDirectory>
        <finalName>${project.artifactId}-${project.version}</finalName>
        <sourceDirectory>${project.basedir}/src/main/java</outputSourceDirectory>
        <testSourceDirectory>${project.basedir}/src/test/java</testOutputSourceDirectory>
        <scriptDirectory>${project.basedir}/src/main/scripts</outputScriptDirectory>
        
        <resources>
        	<resource>
            	<directory>${project.basedir}/src/main/resources</directory>
            </resource>
        </resources>
        
        <testResources>
        	<testResource>
            	<directory>${project.basedir}/src/test/resources</directory>
            </testResource>
        </testResources>
        
        <pluginManagement>
        	<plugins>
            	<plugin>
                	<artifactId>maven-antrun-plugin</artifactId>
                    <version>xxx</version>
                </plugin>
                <plugin>
                	<artifactId>maven-dependency-plugin</artifactId>
                    <version>xxx</version>
                </plugin>
                <plugin>
                	<artifactId>maven-release-plugin</artifactId>
                    <version>xxx</version>
                </plugin>
                <plugin>
                	<artifactId>maven-assembly-plugin</artifactId>
                    <version>xxx</version>
                </plugin>
            </plugins>
        </pluginManagement>
    </build>
    
    <!-- be used to generate reports that will be later displayed on the site generated by Maven -->
    <reporting>
    	<outputDirectory>${project.build.directory}/site</outputDirectory>
    </reporting>
    
    <!-- default build profile -->
    <profiles>
    	<profile>
        
        </profile>
    </profiles>
</project>
```



